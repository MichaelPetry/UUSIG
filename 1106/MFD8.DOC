       @MFD Level 8.0  2Level 8.0   05/20/77  (ISD)      This level is the first symbolic update since level 7.0.  As of this level, ISD considers @MFD a proprietary product. Recipients may use or modify it as they wish, but are requested not to redistribute it without authorization. 3Bug Fixes       Previous levels of @MFD checked a bit in the Lead Item to determine   whether or not a file was catalogued with the G-option.  Since @MFD operates by retrieving Lead Items first, bypassing the Main Items  if the Lead Item is found not to satisfy the options and specs, it is  with some regret that we have switched to using the Main Item G-option indicator.  Tests have shown that various files in an F-cycle series   may be catalogued with differing G-option settings.  UNIVAC says that  this is by design, so we suggest that anyone relying on the Lead Item  G-option flag refrain from doing so.  SPACE        An error in DIREC$ (DIRINT$) which resulted in infinite loops and/or 'MFD ERROR TYPE 7' messages on Exec level 33 has been corrected. When DIRINT$ was scanning the DAS's to create its ADDTBL full of   directory track addresses, it treated a zero track entry as an empty   slot.  However, it is possible to have a directory track at relative   address 0 on a unit, and since the LDAT index is only in the first track entry of a DAS, the entire word may be zero.SPACE        Polish notation errors in the special spec fields sometimes   resulted in guard mode errors or other random failures.  A fix has been applied to remedy this.  SPACE        Bugs resulting in incorrect subtotals when the BREAK feature  is used have been fixed.  SPACE        IGDM errors in the SORTF routine were reported by sites with  very many mass storage units.  These were caused by the lack of a  status check on the ER MSCON$ call to retrieve the mass storage availability table:  An IGDM was likely to occur if the buffer size was too small, since in this case nothing is transferred and the buffer will be garbage.  A status check and error message have been added to SORTF.  3'NOT' Logical Operator Added        The 'NOT' logical operator is now supported for spec4-n special   tests.  It is applied to the following item or clause only.  For   example, the specs in the call:SPACE  CENTER @MFD,A  ,,,AND,QUAL.A,NOT,FILE.BSPACE   are equivalent to the expression: SPACE  CENTER (QUAL=A .AND. (.NOT. FILE=B))SPACE   while the specs in:SPACE  CENTER @MFD,A  ,,,NOT,AND,QUAL.A,FILE.BSPACE   are equivalent to the expression: SPACE  CENTER .NOT. (QUAL=A .AND. FILE=B) 3New Spec4-n Tests       Most of the 'secondary attribute' options (G, O, R, T, U, and V) now have equivalent spec4-n test items. Each of the attributes is considered a 'value' for the 'IF' test   item, and they are specified as 'IF.<keyword>'.  The keyword   may be any of the following:  SPACE  COLUMN 17      TAPE      - selects tape files     MASS      - selects mass storage files     REMOVABLE - selects removable disc files    UNLOADED  - selects unloaded files     DISABLED  - selects files which are disabled in any way    HDW       - selects hardware-disabled files    WRN       - selects warning-only disabled files    BBT       - selects files disabled due to bad backup tape      BM1       - selects files with bad main item links     GOPTION   - selects guarded (G-option) files    VOPTION   - selects V-option (unload inhibit) files    PUBLIC    - selects public files    PRIVATE   - selects private files      BAKDUP    - selects files which have @SECURE backups    READONLY  - selects read-only files    WRITEONLY - selects write-only files    LAPSES    - selects files which have lapse entries     OLD       - selects old-format (pre-level-33) files    POSITION  - selects position-granular files    WAD       - selects word-addressable files     XUSE      - selects files assigned for exclusive useCOLUMN 2SPACE   For example:  SPACE  CENTER @MFD,A  ,,,IF.TAPE  SPACE   is equivalent to the old format call: SPACE  CENTER @MFD,AT SPACE        Each of the keywords may be abbreviated to the first three characters, and each is also sortable, so you may list all your tape files separately from your mass storage files, etc. SPACE        As can be seen, several additional attributes now have mnemonic   names which are easier to use than the more complex ITEM(OFFSET)/TEST/PARTIAL.VALUE type of test. 3New Configuration Parameters  4OLDSTUFF        The code to support the D, G, O, R, T, U, and V-options, as well  as the special code for spec2 (size/reversed-options) and spec3 (equipment code) may now be proc'ed off using configuation parameter 'OLDSTUFF'.  If this tag is set to zero, the D, G, O, R, T, U, and V options will be considered undefined.  The newer methods for specifying these options and tests may not be as efficient in some cases, but they provide greater versatility while reducing the number of kludges in @MFD and using common code for   all but the primary attribute tests.   When 'OLDSTUFF' is set to zero, the special test specs may begin in spec2.SPACE        In the shipped version, OLDSTUFF is nonzero. SPACE        Although it is doubtful that anyone has configured @MFD with  the 'NSSP' parameter set to zero, it should be noted that doing so when 'OLDSTUFF' is also set to zero will result in a version of @MFD which is only marginally useful.  4Filenames       The names of the DGET$ and SDF output (W-option) files are now configurable.  If the DGET$ filename is set to something other than '$$--DGET--$$', the new DIRFIL$ entry point in DIREC$ will be used to inform DIREC$ of the new filename.SPACE        In the shipped version, the filenames are set to the standard '$$--DGET--$$' and 'OUT$$$', and the user documentation reflects   these names.  4Maximum Number of 'BREAK' Specs      Prior to this level, the maximum number of nested BREAK's which could be specified was governed only by the number of special specs permitted (NSSP).  Since that many cells must be reserved for each quantity being subtotaled, a separate parameter has been implemented, resulting in a substantial reduction in the number of data cells required when  the BREAK feature is configured.  A reasonable setting for the new parameter (BRKMAX) would be 2 or 3.  This parameter is ignored if  BRKOK is zero.SPACE        If BRKMAX is exceeded, a warning message will be printed, and the excess BREAK specs will be treated as SORT specs. SPACE        In the shipped version, BRKMAX is set to 3.  4SNAP$ Subroutine        The standard 1100 Operating System ER SNAP$ handler has certain   disadvantages when used in a program such as @MFD.  These include:SPACE  COLUMN 11  LENGTH -5          - a format which makes output nearly unreadable on the           typical demand terminal          - a mostly useless heading with numerous blank lines, resulting          in wasted paper or output rolling off CRT screens        - printing of program-relative addresses rather than SNAP$           buffer-relative addresses        - always printing a word whose address is divisible by 8 in the          first column position:  if your buffer doesn't start there, neither            does your SNAP$ output.  SPACE  COLUMN 2LENGTH +5        For these reasons, a SNAP$ subroutine has been implemented.  Under configuration parameter control, it may be used rather than ER SNAP$.  The subroutine attempts to resolve all of the afore-mentioned  disagreeable characteristics of the ER.SPACE        The shipped version is configured to use the SNAP$ subroutine.3Undefined Options       If any undefined options are specified, a warning message will be printed, and the undefined option(s) will be ignored. SPACE        Also, the 'OPTION ERROR' message has been made more explicit  since it really means that more than one primary attribute option  was specified.EJECT  3'BREAK' Feature Enhancements  4Suppression of New Heading      When a BREAK occurs, normal action is to eject the page and print a new heading following the subtotals.  This action may now be suppressed via new forms of the 'BREAK' spec. SPACE      BREAKN  - same as BREAK, but no page eject or new heading.     BREAKDN - same as BREAKD, but no page eject or new heading.EJECT  4Subtotal Descriptions Printed       When the 'BREAK' feature is used to obtain a sorted listing with  subtotals, the TOTALS routine now attempts to let you know just what   the subtotals are for. For instance, let's say you want a list of the files under your Project-id, sorted by qualifier.  Each time the qualifier changes, you want subtotals for the previous qualifier to be printed (and possibly a new heading:  see above).  Furthermore, you want to list the tape files separately from the mass storage files under   each qualifier, and you want subtotals for each type.  You might then  use an @MFD call such as: SPACE  CENTER @MFD,P   ,BREAK*QUAL.,BREAK*IF.TAPE SPACE   and @MFD would produce a listing of the form: SPACE                        ...  Q1*TAPE1  ...                      ...  Q1*TAPE2  ...SPACE    TOTALS FOR TAPE, QUALIFIER Q1:  ...  SPACE                        ...  Q1*MASS1  ...                      ...  Q1*MASS2  ...SPACE    TOTALS FOR MASS-STORAGE, QUALIFIER Q1:  ...  SPACE    TOTALS FOR QUALIFIER Q1:   ...  SPACE                        ...  Q2*TAPE1  ...                      ...  Q2*TAPE2  ...SPACE    TOTALS FOR TAPE, QUALIFIER Q2:  ...  SPACE    TOTALS FOR QUALIFIER Q2:   ...  SPACE    GRAND TOTALS:  ...  SPACE   Note that in the above example, there are no mass storage files with   qualifier 'Q2'.EJECT  3SORTF Enhancement       A few levels back, SORTF was enhanced to permit use of a  removable disc pack for the XB file, by configuration option.  If, however, the pack or drive was not available, SORTF would just revert to a fixed assign of XB.SPACE        The latest enhancement to SORTF involves this situation only. If the removable assign fails, SORTF will still revert to a fixed  assign, but without the initial reserve.  Furthermore, if the size of the file is such that using track granularity is not likely to  cause a PCT expansion limit problem due to numerous granule items, then track granularity will be used.  SPACE        At ISD, we normally run with one spare disc drive, which has  a removable pack ('TEMP00') on it constantly.  We use this for sorts   and other temporary files, and prohibit the cataloguing of files   on it.  Since we don't have any other removable pack usage, 'TEMP00'   is always there...except when the spare drive is needed because of the failure of a fixed drive.  This enhancement to SORTF was introduced to minimize the system impact of sorts while 'TEMP00' is unavailable.3Other Changes       In single-file mode, ER ERRPR$ will now be used to edit facility errors.  If ERRPR$ is not available, @MFD will revert to its old method of  editing the error status. SPACE        The W-option SDFO linkages have been changed to use the   new entry points implemented in SYSLIB 72R1.  SPACE            The remote load and test instruction sequences which are generated to handle the special spec tests and the 'BREAK' feature have been revamped to simplify them and to implement 'special' j-designators for some tests.  It is now possible to define a spec4-n item   which resides in a non-standard partial word of a directory item.  For instance, at ISD, we consider the 'customer number' to be the  first four characters of the account number.  @MFD will now handle fields such as this by using the appropriate shift instructions.  SPACE        In addition, a good deal of general cleanup work has been done, and some of the code has been moved around.  Separate elements   have been formed to handle @MFD's heading and the SNAP feature.SPACE        Lastly, both the generation document and the user document have   been converted to upper/lower case ASCII.  The user document no longer makes reference to the 'OLDSTUFF' options, but specs 2 and 3 are documented as not being used. If 'OLDSTUFF' is set to zero, the user documentation can be updated to show the special specs starting in spec 2. 1@MFD Level 8.1  2Level 8.1   06/16/77  (ISD)3Bug Fix - W/J-option conflict       Use of the J-option used to confuse the SDF output routine invoked by the W-option.  This has been corrected.3Conversion to MASM      Changes have been made to permit @MFD to be generated using   MASM.  Specifically, the changes involved are:SPACE  column 16    PROCS      - This PDP proc is no longer used.  AXR$       - New MASM definition mode version of UNIVAC's AXR$ proc.   MFDDEF     - New MASM definition mode replacement for the PROCS element.   SORTDEF    - New MASM definition mode version of UNIVAC's sort               packge proc element.  A few procs were fixed to run correctly               under MASM.   DESCRIBE   - This element has been updated to reflect the above                 changes.  THISGEN    - New SGS'es were needed to define the @MASM processor call.  space  column 2      In addition, each element now uses MASM's $INCLUDE directive to include the appropriate procs in the  assembly. space        If any of the definition-mode assemblies (AXR$, MFDDEF, and SORTDEF)  are being changed in any way during an @MFD generation, they   must be processed before any normal assemblies.1@MFD Level 8.2  2Level 8.2   08/20/77  (ISD)      This level of @MFD was created using a UNIVAC-compatible  version of ISD's enhanced EDIT$ package.  It should no longer  be necessary to use the special EDIT$ package to eliminate undefined symbols (ETIM$) when generating @MFD at another site.       The 'DCFZ' tag in MFDDEF has been turned on,  since the EDCFZ$ routine is now likely to  be present in most sites' EDIT$ stuff.       A bug in DIREC$ resulted in returning the same main item  over and over for programs which set the 'I want main items only'  bit when calling DIRINT.  This has been fixed.1@MFD Level 8.3  2Level 8.3   11/12/77  (ISD)      The SORTF subroutine has been enhanced to recognize and correctly process the information returned by level 35 MSALL$.   The PRINT, PRINT2, and QF  routines still need to be modified for level 35 compatibility.       The documentation in DIREC$ regarding FORTRAN calling sequences   and return of error codes has been clarified.        The maximum number of spec fields has been increased again (from 18 to 30).   Some people really get off on Polish notation.@ELT,SIQ TPF$.DOC/8-4,,,211632140215,007       @MFD Level 8.4  2Level 8.4   12/02/77  (ISD)      Minor modifications have been made to the PRINT, PRINT2, and QF   routines to provide initial Exec level 35 support.       The POLDBG configuration parameter has been changed to allow  three levels of super spec debug aids.  The levels are: column 15            0 - no super spec debug            1 - snaps of the super spec tables will be performed               upon request (via 'SNAP*POLISH.' specification).           2 - the snaps will always be performed if this level               is configured.column 2